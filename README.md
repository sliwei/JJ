# JJ Simulator - 基金交易模拟器

基于AKShare数据的基金定投策略模拟器，支持实时获取基金历史数据进行投资策略回测。

## 功能特性

- 🔍 **实时数据获取**: 通过AKShare API获取真实基金历史数据
- 📊 **策略模拟**: 模拟定投、分批买入、止盈卖出等投资策略
- 📈 **可视化分析**: 提供表格和图表两种数据展示方式
- ⚙️ **参数调节**: 支持多种参数自定义，实时预览策略效果
- 🎨 **颜色主题**: 支持标准和翻转两种颜色模式

## 系统架构

### 前端 (index.html)
- 基于React的单页面应用
- 使用Tailwind CSS进行样式设计
- Chart.js进行数据可视化
- 支持实时参数调节和自动计算

### 后端 (fund_api.py)
- Flask API服务
- 集成AKShare获取基金数据
- 支持开放式基金和ETF基金数据
- 提供错误处理和数据格式化

## 安装和使用

### 1. 安装Python依赖

```bash
pip install -r requirements.txt
```

### 2. 启动后端API服务

```bash
python fund_api.py
```

API服务将在 http://localhost:8080 启动

### 3. 打开前端页面

直接在浏览器中打开 `index.html` 文件即可使用。

## 使用说明

### 基本参数设置

- **总额**: 初始投资总资产
- **最小买入跌幅**: 触发买入操作的最小跌幅百分比
- **每份额买入额**: 每次买入操作的金额
- **卖出阈值**: 触发卖出操作的盈利百分比
- **卖出比例**: 每次卖出操作的持仓比例
- **份额计算方式**: 四舍五入或向下取整

### 数据获取

1. 输入6位基金代码（如：000001）
2. 设置查询的开始和结束日期（格式：YYYYMMDD）
3. 点击"获取基金数据"按钮
4. 系统将自动运行模拟并显示结果

### 结果分析

- **收益率**: 总体投资收益百分比
- **总盈亏额**: 绝对盈亏金额
- **总天数**: 模拟的交易天数
- **总涨跌幅**: 基金净值的总体变化
- **买入/卖出次数**: 策略执行的交易次数

## API接口

### 获取基金数据
```
GET /api/fund_data?code={基金代码}&start_date={开始日期}&end_date={结束日期}
```

### 获取基金信息
```
GET /api/fund_info?code={基金代码}
```

### 健康检查
```
GET /health
```

## 支持的基金类型

- 开放式基金
- ETF基金
- 货币基金
- 债券基金

## 注意事项

1. 基金代码必须是有效的6位数字代码
2. 日期格式必须为YYYYMMDD
3. 如果API服务未启动，系统会使用模拟数据进行演示
4. 建议使用Chrome或Firefox浏览器以获得最佳体验

## 技术栈

- **前端**: React, Tailwind CSS, Chart.js
- **后端**: Python, Flask, AKShare, Pandas
- **数据源**: AKShare (基于东方财富等数据源)

## 开发者

本项目基于AKShare开源项目开发，感谢AKShare团队提供的优秀数据接口。

## 许可证

MIT License 